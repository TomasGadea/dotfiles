#!/bin/bash

# Create a new session named "algrano", split panes and change directory in each
tmux new-session -d -s algrano
tmux rename-window dagster
tmux send-keys -t algrano "cd /Users/tomas/repositories/algrano/data/warehouse/algrano-data-warehouse-dagster" Enter
tmux send-keys -t algrano "nvim ." Enter
tmux split-window -v -t algrano
tmux send-keys -t algrano "cd /Users/tomas/repositories/algrano/data/warehouse/algrano-data-warehouse-dagster" Enter
tmux send-keys -t algrano "source .venv/bin/activate" Enter

tmux new-window -t algrano -n dlt
tmux send-keys -t algrano "cd /Users/tomas/repositories/algrano/data/warehouse/algrano-data-warehouse-dlt" Enter
tmux send-keys -t algrano "nvim ." Enter
tmux split-window -v -t algrano
tmux send-keys -t algrano "cd /Users/tomas/repositories/algrano/data/warehouse/algrano-data-warehouse-dlt" Enter
tmux send-keys -t algrano "source .venv/bin/activate" Enter

tmux new-window -t algrano -n dbt
tmux send-keys -t algrano "cd /Users/tomas/repositories/algrano/data/warehouse/algrano-data-warehouse-dbt" Enter
tmux send-keys -t algrano "nvim ." Enter
tmux split-window -v -t algrano
tmux send-keys -t algrano "cd /Users/tomas/repositories/algrano/data/warehouse/algrano-data-warehouse-dbt" Enter
tmux send-keys -t algrano "source .venv/bin/activate" Enter

tmux select-window -t algrano:1
tmux attach -t algrano
